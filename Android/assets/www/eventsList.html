<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
        <link rel="stylesheet" href="css/style.css"/>
        <title>Hello World</title>
            
    </head>
    <body>
        <script type="text/javascript" src="js/webService.js"></script>
        <script type="text/javascript" src="js/zepto.js"></script>
        <script type="text/javascript" src="js/nativeBridge/nativeBridge.js"></script>
        <script type="text/javascript" src="handlebars.min.js"></script>
        <script id="tpl_listEvents" type="text/x-handlebars-template">
            {{#events}}
               
            <div class="eventBlock" index={{@index}} ><img src="img/icon_gdg.png" alt="IMG not found"> <div><h2>{{title}}</h2><p>{{description}}</p></div></div>
   
            {{/events}}
        </script>
		
        
            
        
            
        <div id="eventList">  
           </div> 
            

 
            <script>getInfoGplus();
                   
                    getPhotos(photoConfig.photoset_id);
                    getVideos();
                    var srcTpl=$("#tpl_listEvents").html();
                            var tpl=Handlebars.compile(srcTpl);
                            getEvents(function(){
                                                    console.log(events);                          
                                                    console.log(tpl);
                              var html=tpl({events : events});  
                              $("#eventList").append(html);
                            });
                        
            </script>
        
        <script>
            Zepto(function($){
                
                
                
                nativeBridge.init({                    	
                    events:{
                        "pullToRefreshRefresh" : function(event){
                            nativeBridge.log('Refresh');                           
                            nativeBridge.sendCallback(event);
                            var hellos=new Array("Hello !","Refreshing !","Great !","Fast !", ";-)");
                            var elemlength = hellos.length;
                            var randomnum = Math.floor(Math.random()*elemlength);
                            var randomitem = hellos[randomnum];
                            var srcTpl=$("#tpl_listEvents").html();
                            var tpl=Handlebars.compile(srcTpl);
                            getEvents(function(){
                              tpl({events : events});  
                            });
                            
                            $('p').html(randomitem);
                            
                        }
                    }
                });
                
                
            });
            
            
        </script>
        
            
            
            
            
    </body>
</html>