<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
        <link rel="stylesheet" href="css/style.css"/>
        <title>Hello World</title>
            
    </head>
    <body>
        <script type="text/javascript" src="js/webService.js"></script>
        <script type="text/javascript" src="js/zepto.js"></script>
        <script type="text/javascript" src="js/utils.storage.js"></script>
        <script type="text/javascript" src="js/nativeBridge/nativeBridge.js"></script>
        <script type="text/javascript" src="handlebars.min.js"></script>
        <script id="tpl_listEvents" type="text/x-handlebars-template">
            <ul>
            {{#events}}
            
            <li  class="eventBlock" index={{@index}} ><img src="img/icon_gdg.png" alt="IMG not found"><div><h2>{{title}}</h2><p>{{description}}</p></div></li>
                    
            {{/events}}
            </ul>
            
            
        </script>
        
        
                    
                    
                    
                    
        <div id="eventList">  
        </div> 
                    
                    
                    
        <script>
                    //getInfoGplus();
                    
                    
                    var srcTpl=$("#tpl_listEvents").html();
                    var tpl=Handlebars.compile(srcTpl);
                    getEvents(function(){  
                        var html=tpl({events : events});  
                        $("#eventList").append(html);
                        $('div.eventBlock').on('tap click',function(){
                            var index=$(this).attr("index");
                            utils.storage.setItem('indexEvent',index);
                            nativeBridge.log(index);
                            nativeBridge.navigate('push','detailedEvents.html','detaileView');
                            return false;
                        });
                    });
                    
        </script>
                    
        <script>
                    Zepto(function($){
                                           
                        nativeBridge.init({                    	
                            debug:true     
                            ,events:{
                                
                                "pullToRefreshRefresh" : function(event){
                                    nativeBridge.log('Refresh');                           
                                    nativeBridge.sendCallback(event);
                                    
                                }
                            }
                        });
                        
                        
                        
                    });
                    
                    
        </script>
                    
                    
                    
                    
                    
    </body>
</html>